<template name="ViewingOld">
  {{#if Template.subscriptionsReady}}
    {{#if $.Session.get 'updateViewing'}}
      {{> UpdateViewing viewing=viewing}}
    {{else}}
      <h3 class="m-t-0">Viewing #{{viewing.number}}</h3>
      <p>
        <div>
          <strong>Participant:</strong>
          <a href="/studies/{{viewing.studyId}}/participants/{{viewing.participant._id}}">{{viewing.participantName}}</a>
        </div>
        <div>
          <strong>Stimulus:</strong>
          <a href="/studies/{{viewing.studyId}}/stimuli/{{viewing.stimulus._id}}">{{viewing.stimulus.name}}</a>
        </div>
        <div>
          <strong>Period (ms):</strong>
          {{#if viewing.analysis}}
            {{formatNumber viewing.analysis.period}}
          {{/if}}
        </div>
        <div>
          <strong>Minimum Recording Time (ms): </strong>
          {{#if viewing.duration}}
            {{formatNumber viewing.minRecordingTime}}
          {{/if}}
        </div>
        <div>
          <strong>Maximum Recording Time (ms): </strong>
          {{#if viewing.duration}}
            {{formatNumber viewing.maxRecordingTime}}
          {{/if}}
        </div>
        <div>
          <strong>Duration (HH:MM:SS.MS): </strong>
          {{#if viewing.duration}}
            {{millisecondsToHMSMS viewing.duration}}
          {{/if}}
        </div>
        <div>
          <strong>Average Convex Hull Area (Slide Method): </strong>
          {{#if viewing.averageSlideHullArea}}
            <!-- {{decimalToPercent viewing.averageSlideHullArea}}% -->
            {{formatNumber viewing.averageSlideHullArea}}
          {{/if}}
        </div>
        <div>
          <strong>Average Convex Hull Area (Step Method): </strong>
          {{#if viewing.averageStepHullArea}}
            {{decimalToPercent viewing.averageStepHullArea}}%
          {{/if}}
        </div>
      </p>

      <form>
        <div class="form-group" id="analysisTypeGroup">
          <label for="analysisType">Analysis Type</label>
          <select class="form-control" id="analysisType">
            <option disabled selected value="">Analysis Type</option>
            <option value="convexHull">Convex Hull Areas</option>
            <option disabled value="scanpathLength">Scanpath Length</option>
            <option disabled value="scanpathVelocity">Scanpath Velocity</option>
          </select>
        </div>

        <div id="instantContinuousGroup" class="form-group {{#if instantContinuousHidden}} hidden {{/if}}">
          <label for="instantContinuous">Instantaneous/Continuous
            <a href="">
              <span class="glyphicon glyphicon-question-sign"></span>
            </a>
          </label>
          <select class="form-control" id="instantContinuous">
            <option value="instantaneous">Instantaneous</option>
            <option value="continuous">Continuous</option>
          </select>
        </div>

        <div id="slideStepGroup" class="form-group {{#if slideStepHidden}} hidden {{/if}}">
          <label for="slideStep">Slide/Step
            <a href="">
              <span class="glyphicon glyphicon-question-sign"></span>
            </a>
          </label>
          <select class="form-control" id="slideStep">
            <option value="slide">Slide</option>
            <option value="step">Step</option>
          </select>
        </div>

        <div id="centroidPeriodGroup" class="form-group {{#if centroidPeriodHidden}} hidden {{/if}}">
          <label for="centroidPeriod">Centroid Period (ms)
            <a href="">
              <span class="glyphicon glyphicon-question-sign"></span>
            </a>
          </label>
          <input class="form-control" type="text" placeholder="Centroid Period" id="centroidPeriod" value="{{$.Session.get 'centroidPeriod'}}">
        </div>

        <div id="fixationTrailLengthGroup" class="form-group {{#if fixationTrailLengthHidden}} hidden {{/if}}">
          <label for="fixationTrailLength">Fixation Trail Length
            <a href="">
              <span class="glyphicon glyphicon-question-sign"></span>
            </a>
          </label>
          <input class="form-control" type="text" placeholder="Fixation Trail Length" id="fixationTrailLength" value="{{$.Session.get 'fixationTrailLength'}}">
        </div>
      </form>

      {{> Animation}}

    {{/if}}
  {{/if}}
</template>
