<template name="UpdateParticipant">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">Edit Participant <i class="fa fa-close pull-right"></i></h3>
    </div>
    <div class="panel-body">
      {{#autoForm collection="Participants" doc=participant
        id="updateParticipantForm" type="update" class="update-participant-form"}}
        {{> afQuickField name='name'}}

        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Variables</h3>
          </div>

          <div class="panel-body">

            {{#each variable in participant.variables}}
              <div class="form-group">
                <label for="S4jpqaDWqXN79mt5P" class="control-label">{{variable.name}}</label>
                <input type="hidden" name="variableVals.{{@index}}.variableId" data-schema-key="variableVals.{{@index}}.variableId" value="{{variable._id}}">
                <input type="text" name="variableVals.{{@index}}.value" id="S4jpqaDWqXN79mt5P" data-schema-key="variableVals.{{@index}}.value" class="form-control" value="{{variable.value}}">
                <span class="help-block"></span>
              </div>
            {{/each}}

          </div>
        </div>
        <div class="form-group">
          <button type="submit" class="btn btn-primary">Submit</button>
        </div>
      {{/autoForm}}



      <!-- {{> quickForm collection="Participants" doc=participant id="updateParticipantForm"
        type="update" class="update-participant-form"}} -->


      {{#if participant.hasPermission 'destroy'}}
        {{> quickRemoveButton collection="Participants" _id=participant._id
          onSuccess=deleteOnSuccess beforeRemove=deleteBeforeRemove
          id="destroyParticipantform" class="btn btn-danger"}}
      {{/if}}
    </div>
  </div>
</template>
