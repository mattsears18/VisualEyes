<template name="AnalysisAoi">
  <h3>{{aoi.name}}</h3>

  <table class="table table-striped table-bordered no-footer">
    <tbody>
      <tr>
        <th>Analysis</th>
        <td><a href="/studies/{{study._id}}/analyses/{{analysis._id}}">{{analysis.name}}</a></td>
      </tr>
      <tr>
        <th>Viewing Durations (HH:MM:SS.MS) [ms]</th>
        <td>
          <tr>
            <td>
              {{#each duration in durations}}
                {{formatNumber duration}}
              {{/each}}
              </td>
            </tr>
            <tr>
              <th>Minimum</th>
              <td>
                {{#if durationMin}}
                  {{millisecondsToHMSMS durationMin}}
                  [{{formatNumber durationMin}}]
                {{/if}}
              </td>
            </tr>
            <tr>
              <th>Maximum</th>
              <td>
                {{#if durationMax}}
                  {{millisecondsToHMSMS durationMax}}
                  [{{formatNumber durationMax}}]
                {{/if}}
              </td>
            </tr>
            <tr>
              <th>Range</th>
              <td>
                {{#if durationRange}}
                  {{millisecondsToHMSMS durationRange}}
                  [{{formatNumber durationRange}}]
                {{/if}}
              </td>
            </tr>
            <tr>
              <th>Mean</th>
              <td>
                {{#if durationMean}}
                  {{millisecondsToHMSMS durationMean}}
                  [{{formatNumber durationMean}}]
                {{/if}}
              </td>
            </tr>
            <tr>
              <th>Median</th>
              <td>
                {{#if durationMedian}}
                  {{millisecondsToHMSMS durationMedian}}
                  [{{formatNumber durationMedian}}]
                {{/if}}
              </td>
            </tr>
        </td>
      </tr>

      <tr>
        <th># of Viewings per Datafile</th>
        <td>
          <tr>
            <td>
              {{#each count in viewingCounts}}
                {{formatNumber count}}
              {{/each}}
              </td>
            </tr>
            <tr>
              <th>Minimum</th>
              <td>
                {{#if durationMin}}
                  {{formatNumber durationMin}}
                {{/if}}
              </td>
            </tr>
            <tr>
              <th>Maximum</th>
              <td>
                {{#if durationMax}}
                  {{formatNumber durationMax}}
                {{/if}}
              </td>
            </tr>
            <tr>
              <th>Range</th>
              <td>
                {{#if durationRange}}
                  {{millisecondsToHMSMS durationRange}}
                  [{{formatNumber durationRange}}]
                {{/if}}
              </td>
            </tr>
            <tr>
              <th>Mean</th>
              <td>
                {{#if durationMean}}
                  {{formatNumber durationMean}}
                {{/if}}
              </td>
            </tr>
            <tr>
              <th>Median</th>
              <td>
                {{#if durationMedian}}
                  {{formatNumber durationMedian}}
                {{/if}}
              </td>
            </tr>
        </td>
      </tr>
    </tbody>
  </table>

  <h4>Viewings {{#if viewings.count}}({{viewings.count}}){{/if}}</h4>

  {{> tabular table=TabularTables.ViewingsByAnalysisIdAoiId selector=selector class="table table-striped table-bordered"}}

</template>
